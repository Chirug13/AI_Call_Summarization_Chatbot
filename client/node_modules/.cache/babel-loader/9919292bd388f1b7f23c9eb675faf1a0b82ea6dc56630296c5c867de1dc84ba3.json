{"ast":null,"code":"var _jsxFileName = \"D:\\\\Redhats\\\\AI_Call_Summarization_V2\\\\client\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { setupSilenceDetection } from './audioUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isRecording, setIsRecording] = useState(false);\n  const [chatLog, setChatLog] = useState([]);\n  const [theme, setTheme] = useState('dark');\n  const [transcript, setTranscript] = useState('');\n  const mediaRecorderRef = useRef(null);\n  const audioChunks = useRef([]);\n  const toggleTheme = () => {\n    setTheme(prev => prev === 'dark' ? 'light' : 'dark');\n  };\n  useEffect(() => {\n    document.body.className = theme;\n  }, [theme]);\n  const handleUpload = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const formData = new FormData();\n    formData.append('file', file);\n    const {\n      data\n    } = await axios.post('http://localhost:8000/transcribe', formData);\n    setTranscript(data.transcript);\n    setChatLog(log => [...log, {\n      type: 'user',\n      text: data.transcript\n    }]);\n    queryLLM(data.transcript);\n  };\n  const handleMicStart = async () => {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: true\n    });\n    const mediaRecorder = new MediaRecorder(stream);\n    mediaRecorderRef.current = mediaRecorder;\n    audioChunks.current = [];\n    mediaRecorder.ondataavailable = event => audioChunks.current.push(event.data);\n    mediaRecorder.onstop = async () => {\n      const audioBlob = new Blob(audioChunks.current, {\n        type: 'audio/webm'\n      });\n      const formData = new FormData();\n      formData.append('file', audioBlob);\n      const {\n        data\n      } = await axios.post('http://localhost:8000/transcribe', formData);\n      setTranscript(data.transcript);\n      setChatLog(log => [...log, {\n        type: 'user',\n        text: data.transcript\n      }]);\n      queryLLM(data.transcript);\n    };\n    mediaRecorder.start();\n    setIsRecording(true);\n    setupSilenceDetection(mediaRecorder, stream, () => {\n      mediaRecorder.stop();\n      setIsRecording(false);\n    });\n  };\n  const queryLLM = async text => {\n    const {\n      data\n    } = await axios.post('http://localhost:8000/chat', {\n      query: text,\n      session_id: 'local-session'\n    });\n    setChatLog(log => [...log, {\n      type: 'bot',\n      text: data.response\n    }]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83C\\uDF99\\uFE0F AI Call Summarizer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleTheme,\n        children: \"Toggle Theme\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"upload-btn\",\n        children: [\"Upload Audio\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"audio/*\",\n          hidden: true,\n          onChange: handleUpload\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleMicStart,\n        children: isRecording ? 'Recording...' : 'Start Mic'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.print(),\n        children: \"Export PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => alert('Word export to be implemented'),\n        children: \"Export Word\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat\",\n        children: chatLog.map((entry, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `chat-bubble ${entry.type}`,\n          children: entry.text\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"transcript-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Transcript Preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          children: transcript\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"XX653pQTyJEzWD8GP1bnZgbWtGI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","setupSilenceDetection","jsxDEV","_jsxDEV","App","_s","isRecording","setIsRecording","chatLog","setChatLog","theme","setTheme","transcript","setTranscript","mediaRecorderRef","audioChunks","toggleTheme","prev","document","body","className","handleUpload","e","file","target","files","formData","FormData","append","data","post","log","type","text","queryLLM","handleMicStart","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","current","ondataavailable","event","push","onstop","audioBlob","Blob","start","stop","query","session_id","response","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","accept","hidden","onChange","window","print","alert","map","entry","i","_c","$RefreshReg$"],"sources":["D:/Redhats/AI_Call_Summarization_V2/client/src/App.jsx"],"sourcesContent":["\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { setupSilenceDetection } from './audioUtils';\n\nfunction App() {\n  const [isRecording, setIsRecording] = useState(false);\n  const [chatLog, setChatLog] = useState([]);\n  const [theme, setTheme] = useState('dark');\n  const [transcript, setTranscript] = useState('');\n  const mediaRecorderRef = useRef(null);\n  const audioChunks = useRef([]);\n\n  const toggleTheme = () => {\n    setTheme(prev => (prev === 'dark' ? 'light' : 'dark'));\n  };\n\n  useEffect(() => {\n    document.body.className = theme;\n  }, [theme]);\n\n  const handleUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const formData = new FormData();\n    formData.append('file', file);\n    const { data } = await axios.post('http://localhost:8000/transcribe', formData);\n    setTranscript(data.transcript);\n    setChatLog(log => [...log, { type: 'user', text: data.transcript }]);\n    queryLLM(data.transcript);\n  };\n\n  const handleMicStart = async () => {\n    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n    const mediaRecorder = new MediaRecorder(stream);\n    mediaRecorderRef.current = mediaRecorder;\n    audioChunks.current = [];\n    mediaRecorder.ondataavailable = event => audioChunks.current.push(event.data);\n    mediaRecorder.onstop = async () => {\n      const audioBlob = new Blob(audioChunks.current, { type: 'audio/webm' });\n      const formData = new FormData();\n      formData.append('file', audioBlob);\n      const { data } = await axios.post('http://localhost:8000/transcribe', formData);\n      setTranscript(data.transcript);\n      setChatLog(log => [...log, { type: 'user', text: data.transcript }]);\n      queryLLM(data.transcript);\n    };\n    mediaRecorder.start();\n    setIsRecording(true);\n    setupSilenceDetection(mediaRecorder, stream, () => {\n      mediaRecorder.stop();\n      setIsRecording(false);\n    });\n  };\n\n  const queryLLM = async (text) => {\n    const { data } = await axios.post('http://localhost:8000/chat', {\n      query: text,\n      session_id: 'local-session'\n    });\n    setChatLog(log => [...log, { type: 'bot', text: data.response }]);\n  };\n\n  return (\n    <div className=\"app\">\n      <header>\n        <h2>🎙️ AI Call Summarizer</h2>\n        <button onClick={toggleTheme}>Toggle Theme</button>\n      </header>\n      <div className=\"controls\">\n        <label className=\"upload-btn\">\n          Upload Audio\n          <input type=\"file\" accept=\"audio/*\" hidden onChange={handleUpload} />\n        </label>\n        <button onClick={handleMicStart}>{isRecording ? 'Recording...' : 'Start Mic'}</button>\n        <button onClick={() => window.print()}>Export PDF</button>\n        <button onClick={() => alert('Word export to be implemented')}>Export Word</button>\n      </div>\n      <div className=\"main\">\n        <div className=\"chat\">\n          {chatLog.map((entry, i) => (\n            <div key={i} className={`chat-bubble ${entry.type}`}>\n              {entry.text}\n            </div>\n          ))}\n        </div>\n        <div className=\"transcript-box\">\n          <h4>Transcript Preview</h4>\n          <pre>{transcript}</pre>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}